<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dynamics of Harvested Area</title>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <style>
        body { margin: 0; font-family: 'Arial', sans-serif; background-color: #fafafa; padding: 20px; }
        .container { max-width: 1200px; margin: 0 auto; background: white; padding: 24px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
        h2 { margin-top: 0; font-size: 20px; font-weight: 600; color: #333; }
        .subtitle { font-size: 14px; color: #666; font-style: italic; margin-bottom: 24px; }
        #chart_div { width: 100%; height: 550px; }
        .observations { margin-top: 32px; padding: 16px; background: #f5f5f5; border-radius: 4px; border-left: 4px solid #1976d2; }
        .observations h3 { margin: 0 0 12px 0; font-size: 16px; }
        .observations p { margin: 8px 0; font-size: 14px; line-height: 1.6; }
        .source { margin-top: 24px; font-size: 12px; color: #666; font-style: italic; }
    </style>
    <script type="text/javascript">
      google.charts.load('current', {'packages':['corechart']});
      google.charts.setOnLoadCallback(drawChart);

      function drawChart() {
        var data = new google.visualization.DataTable();
        data.addColumn('string', 'Year');
        
        // --- МИРНИЙ ЧАС (Суцільні лінії) ---
        data.addColumn('number', 'Grains & Legumes');
        data.addColumn('number', 'Sunflower');
        data.addColumn('number', 'Combined Total');
        
        // --- ВІЙНА (Пунктирні лінії) ---
        // Ми їх додаємо як окремі серії, але приховаємо з легенди, щоб не дублювати написи
        data.addColumn('number', '_Grains_War');
        data.addColumn('number', '_Sunflower_War');
        data.addColumn('number', '_Combined_War');
        
        // Анотації
        data.addColumn({type: 'string', role: 'annotation'});
        data.addColumn({type: 'string', role: 'annotationText'});

        data.addRows([
          // Рік    Зерно   Сон.    Заг.    Зер(В)  Сон(В)  Заг(В)   Анотація
          ['1990',  763.7,  144.3,  908.0,  null,   null,   null,    null, null],
          ['2000',  628.0,  235.1,  863.1,  null,   null,   null,    null, null],
          ['2010',  876.8,  396.6,  1273.4, null,   null,   null,    null, null],
          ['2015',  948.2,  475.6,  1423.8, null,   null,   null,    null, null],
          ['2020',  880.7,  513.0,  1393.7, null,   null,   null,    null, null],
          
          // 2021: Точка з'єднання (дублюємо значення в обох групах, щоб лінія була неперервною)
          ['2021',  950.5,  518.0,  1468.5, 950.5,  518.0,  1468.5,  null, null],
          
          // 2022-2025: Мирні колонки = null, Воєнні колонки = значення
          ['2022',  null,   null,   null,   705.2,  405.1,  1110.3,  'Feb 24', 'Invasion Start'],
          ['2023',  null,   null,   null,   617.9,  416.0,  1033.9,  null, null],
          ['2024',  null,   null,   null,   634.9,  486.0,  1120.9,  null, null],
          ['2025',  null,   null,   null,   713.5,  412.8,  1126.3,  null, null]
        ]);

        var options = {
          title: '',
          curveType: 'function',
          legend: { position: 'bottom' },
          // Кольори (повторюємо двічі: для мирних і для воєнних ліній)
          // Порядок: Зелений, Помаранчевий, Синій
          colors: ['#388e3c', '#f57c00', '#1976d2', '#388e3c', '#f57c00', '#1976d2'],
          lineWidth: 3,
          pointSize: 7,
          vAxis: { 
            title: 'Harvested Area (×10³ ha)',
            viewWindow: { min: 0, max: 1600 }
          },
          hAxis: { title: 'Year' },
          chartArea: { width: '85%', height: '70%' },
          
          series: {
            // Мирні лінії (суцільні)
            0: { lineDashStyle: [0, 0] },
            1: { lineDashStyle: [0, 0] },
            2: { lineDashStyle: [0, 0] },
            // Воєнні лінії (пунктирні + приховані з легенди)
            3: { lineDashStyle: [4, 4], visibleInLegend: false, pointShape: 'diamond' },
            4: { lineDashStyle: [4, 4], visibleInLegend: false, pointShape: 'diamond' },
            5: { lineDashStyle: [4, 4], visibleInLegend: false, pointShape: 'diamond' }
          },
          
          annotations: {
            style: 'line',
            textStyle: {
              color: '#d32f2f',
              fontSize: 12,
              bold: true
            }
          }
        };

        var chart = new google.visualization.LineChart(document.getElementById('chart_div'));
        chart.draw(data, options);
      }
    </script>
</head>
<body>
    <div class="container">
        <h2>Dynamics of Harvested Area in Mykolaiv Oblast, 1990-2025</h2>
        <p class="subtitle">Solid lines represent pre-war period. Dashed lines indicate the war period (post-2021).</p>
        
        <div id="chart_div"></div>

        <div class="observations">
            <h3>Key Observations:</h3>
            <p><strong>Pre-war peak (2021):</strong> Combined harvested area reached 1,468.5 × 10³ ha.</p>
            <p><strong>2022 invasion impact:</strong> Immediate 24.4% contraction following invasion.</p>
            <p><strong>2022-2025 stagnation:</strong> Harvested area remains plateaued at ~1,126 × 10³ ha.</p>
            <p><strong>Persistent land withdrawal:</strong> ~23.3% of land remains excluded from cultivation.</p>
        </div>

        <p class="source">Source: State Statistics Service of Ukraine; Mykolaiv Oblast Economic and Social Development Program 2026.</p>
    </div>
</body>
</html>
